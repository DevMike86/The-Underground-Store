<!DOCTYPE html>
<html>
<head>
    <title>THE UNDERGROUND AI</title>
    <style>
        body { background: #000; color: #0f0; font-family: monospace; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; margin: 0; }
        #chat-box { width: 80%; max-width: 600px; height: 300px; border: 1px solid #0f0; overflow-y: scroll; padding: 10px; margin-bottom: 10px; background: #050505; }
        input { background: #000; border: 1px solid #0f0; color: #0f0; padding: 10px; width: 70%; }
        button { background: #0f0; color: #000; border: none; padding: 10px 20px; cursor: pointer; font-weight: bold; }
        .status { font-size: 0.8em; margin-bottom: 5px; }
    </style>
</head>
<body>
    <div class="status" id="status">CONNECTING TO NODE...</div>
    <div id="chat-box"></div>
    <div>
        <input type="text" id="userInput" placeholder="Type a command...">
        <button onclick="sendMessage()">SEND</button>
    </div>

    <script>
        // YOUR VERIFIED LINK
        const GATEWAY = "https://unadept-elocutionary-ling.ngrok-free.dev/v1/chat/completions";

        async function sendMessage() {
            const input = document.getElementById('userInput');
            const box = document.getElementById('chat-box');
            const msg = input.value;
            if(!msg) return;

            box.innerHTML += `<div><b>YOU:</b> ${msg}</div>`;
            input.value = '';

            try {
                const response = await fetch(GATEWAY, {
                    method: "POST",
                    headers: { 
                        "Content-Type": "application/json",
                        "ngrok-skip-browser-warning": "true" 
                    },
                    body: JSON.stringify({
                        messages: [{ role: "user", content: msg }],
                        temperature: 0.7
                    })
                });
                const data = await response.json();
                const aiMsg = data.choices[0].message.content;
                box.innerHTML += `<div style="color: white;"><b>AI:</b> ${aiMsg}</div>`;
            } catch (e) {
                box.innerHTML += `<div style="color: red;">ERROR: Connection Lost</div>`;
            }
            box.scrollTop = box.scrollHeight;
        }
    </script>
</body>
</html>
